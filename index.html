<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <title>Έλεγχος Θέσεων Περιοδικού Πίνακα</title>
    <script>
        let positions = { full: {}, collapsed: {} };
        let currentState = "full";

        async function loadPositions() {
            let fullResponse = await fetch("positions_full.json");
            let collapsedResponse = await fetch("positions_collapsed.json");
            positions.full = await fullResponse.json();
            positions.collapsed = await collapsedResponse.json();
            drawElements();
        }

        function drawElements() {
            let container = document.getElementById("ptable");
            container.innerHTML = "";
            let data = positions[currentState][currentState];
            for (let key in data) {
                let el = document.createElement("div");
                el.className = "element";
                el.textContent = key;
                el.style.left = data[key].x + "px";
                el.style.top = data[key].y + "px";
                el.style.width = data[key].width + "px";
                el.style.height = data[key].height + "px";
                container.appendChild(el);
            }
        }

        function toggleState() {
            currentState = currentState === "full" ? "collapsed" : "full";
            drawElements();
        }

        window.onload = loadPositions;
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        #ptable {
            position: relative;
            width: 1000px;
            height: 600px;
            border: 1px solid black;
            margin: 20px auto;
        }
        .element {
            position: absolute;
            background-color: lightblue;
            border: 1px solid black;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            font-weight: bold;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>Έλεγχος Θέσεων Περιοδικού Πίνακα</h1>
    <button onclick="toggleState()">Εναλλαγή Full/Collapsed</button>
    <div id="ptable"></div>
</body>
</html>
